<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            padding: 50px 0 0 100px;
        }
        button[type="submit"] {
            /*padding: 8px;*/
            /*font-size: 14px;*/
        }
    </style>
</head>
<body>
<script>
    console.log(location.search)
    var past = +new Date()
    var search = location.search.includes('hide')
    console.log(search)
    while (false) {
        if (+new Date() - past > 5000) {
            alert('密码错误，请重新输入！')
            break
        }
    }
</script>
<form action="" method="get">
    用户名：
    <input type="text" name="name">
    密码：
    <input type="password" name="password">
    <input type="hidden" value="123" name="hide">
    <!--<input type="submit" value="登陆">-->
    <button type="button" id="sub">登陆</button>
</form>
<p style="display: none">密码错误，请<a href="#">重新输入！</a></p>
<p style="display: none">登入中...</p>
<script>
    var sub = document.querySelector(`button[type="button"]`)
    sub.addEventListener('click', function (e) {
        document.querySelector('form').style.display = 'none'
        document.querySelectorAll('p')[1].style.display = 'block'
        setTimeout(() => {
//            alert('密码错误，请重新输入！')
            document.querySelectorAll('p')[1].style.display = 'none'
            document.querySelector('p').style.display = 'block'
        }, 2200)
//        while (true) {
//            if (+new Date() - past > 5000) {
//                alert('密码错误，请重新输入！')
//                break
//            }
//        }
    })
    document.querySelector('a').addEventListener('click', () => {
        document.querySelector('p').style.display = 'none'
        setTimeout(() => {
            document.querySelector('form').style.display = 'block'
//                document.name
            document.forms[0].name.value = ''
            document.forms[0].password.value = ''
        }, 25)
    })
</script>
</body>
</html>
